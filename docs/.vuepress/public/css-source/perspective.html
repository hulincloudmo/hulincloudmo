<div class="main">
    <!-- 容器 -->
    <div id="container" class="container">
        <div class="inner"></div>
        <div class="inner"></div>
        <div class="inner"></div>
        <div class="inner"></div>
        <div class="inner"></div>
        <div class="inner"></div>
        <div class="inner"></div>
        <div class="inner"></div>
        <div class="inner"></div>
    </div>
</div>

<style type="text/css">
    .main {
        min-height: 100px;
        margin:0 auto;
        padding: 100px 50px;
        background-color: #f0f0f0;
        box-shadow: inset 0 0 3px rgba(0,0,0,.35);
        perspective: 800px;
        position: relative;
        top: 0;
        display: flex;
        justify-content: center;
        overflow-x: hidden;
    }

    .container{
        width: 128px;
        height: 100px;
        transform-style: preserve-3d;
        position: relative;
        transition: transform 1s
    }

    .inner{
        width: 128px;
        height: 100px;
        box-shadow: 0 1px 3px rgba(0,0,0,.5);

        position: absolute;
        bottom: 0;
    }

    .inner:nth-child(1) { transform: rotateY(   0deg ) translateZ(200px);background-color: #ccffff; }
    .inner:nth-child(2) { transform: rotateY(  40deg ) translateZ(200px);background-color: #ccccff; }
    .inner:nth-child(3) { transform: rotateY(  80deg ) translateZ(200px);background-color: #99ffff; }
    .inner:nth-child(4) { transform: rotateY( 120deg ) translateZ(200px);background-color: #99ffcc; }
    .inner:nth-child(5) { transform: rotateY( 160deg ) translateZ(200px);background-color: #ffccff; }
    .inner:nth-child(6) { transform: rotateY( 200deg ) translateZ(200px);background-color: #ffcccc; }
    .inner:nth-child(7) { transform: rotateY( 240deg ) translateZ(200px);background-color: #ffffcc; }
    .inner:nth-child(8) { transform: rotateY( 280deg ) translateZ(200px);background-color: #ccff00; }
    .inner:nth-child(9) { transform: rotateY( 320deg ) translateZ(200px);background-color: #99ff00; }
</style>

<script type="text/javascript">
    var container = document.getElementById("container");
    var deg = 0;
    let touchX = 0
    let startX = 0
    let isMove = false;
    container.ontouchstart = function (e) {
        e.preventDefault()
        startX = Math.floor(e.changedTouches[0].clientX)
    }
    container.ontouchend = function(e){
        e.preventDefault()
        let touch = e.changedTouches[0]
        const x = Math.floor(touch.clientX)
        if (!isMove && x - startX > 0) {
            deg += 40
        } else if (!isMove && x - startX < 0) {
            deg -= 40
        }
        container.style.transform = `rotateY(${deg}deg)`;
        touchX = touch.clientX
        isMove = !isMove
        setTimeout(() => {
            isMove = !isMove
        }, 500)
    }
    // container.onclick = function (e) {
    //     console.log(e)
    // }
</script>


